<!--pages/userInfo/index.wxml-->

<view class="cu-bar bg-white">
  <view class="action">
    <text class="cuIcon-title text-green "></text>我的信息 
  </view>
  <view class="action">
    <button class="cu-btn bg-green shadow" bindtap="confirm" >确认更改</button>
  </view>
</view>

<view class="cu-form-group margin-top">
  <view class="title margin-left-xs">用户类别</view>
    <picker bindchange="PickerChange" value="{{index}}" range="{{picker}}">
      <view class="picker">
        {{index?picker[index]:'患者'}}
      </view>
  </picker>
</view>

<view class="cu-form-group margin-top">
  <view class="title margin-left-xs">头像</view>
  <view class="cu-avatar radius bg-gray" bindtap="ChooseImage" style="background-image:url({{userImg}});"></view>
</view>
<!-- 昵称 -->
<view class="cu-list menu " >
  <view class="cu-item arrow" bindtap="showModal" data-target="DialogModal1">
    <view class="content" >
      <text class="text-black margin-left-xs">昵称</text>
    </view>
    <view class="action">
        <text class="text-grey text-lg">{{nickName}}</text>
    </view>
  </view>
</view>
<!-- 弹窗修改昵称 -->
<view class="cu-modal {{modalName=='DialogModal1'?'show':''}}">
  <view class="cu-dialog">
    <view class="cu-bar bg-white justify-end">
      <view class="content">修改昵称</view>
      <view class="action" bindtap="hideModal">
        <text class="cuIcon-close text-red"></text>
      </view>
    </view>
    <form bindsubmit='getNewNickname'>
      <view class="padding-xl">
        <input type="text" placeholder="{{nickName}}" name="nickname" />
      </view>
      <view class="cu-bar bg-white justify-end">
        <view class="action">
          <button class="cu-btn line-green text-green" bindtap="hideModal">取消</button>
          <button class="cu-btn bg-green margin-left" bindtap="hideModal" form-type='submit'>确定</button>
        </view>
      </view>
    </form>
  </view>
</view>

<!-- 真实姓名 -->
<view class="cu-list menu ">
  <view class="cu-item arrow" bindtap="showModal" data-target="DialogModal2">
    <view class="content">
      <text class="text-black margin-left-xs">真实姓名</text>
    </view>
    <view class="action">
        <text class="text-grey text-lg">{{realName}}</text>
    </view>
  </view>
</view>
<!-- 弹窗修改真实姓名 -->
<view class="cu-modal {{modalName=='DialogModal2'?'show':''}}">
  <view class="cu-dialog">
    <view class="cu-bar bg-white justify-end">
      <view class="content">修改姓名</view>
      <view class="action" bindtap="hideModal">
        <text class="cuIcon-close text-red"></text>
      </view>
    </view>
    <form bindsubmit='getNewName'>
      <view class="padding-xl">
        <input type="text" placeholder="{{realName}}" name="name" />
      </view>
      <view class="cu-bar bg-white justify-end">
        <view class="action">
          <button class="cu-btn line-green text-green" bindtap="hideModal">取消</button>
          <button class="cu-btn bg-green margin-left" bindtap="hideModal" form-type='submit'>确定</button>
        </view>
      </view>
    </form>
  </view>
</view>

<!-- 性别 -->
<view class="cu-form-group">
  <view class="title margin-left-xs">性别</view>
    <picker bindchange="SexPickerChange" value="{{sexIndex}}" range="{{sexPicker}}">
      <view class="picker">
        <text class="text-grey text-lg">{{sexIndex?sexPicker[sexIndex]:'请选择您的性别'}}</text>
      </view>
  </picker>
</view>
  
